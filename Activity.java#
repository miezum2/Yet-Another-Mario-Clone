import greenfoot.*;
import java.util.List;
import java.util.ArrayList;
import java.util.Arrays;
import java.io.File;

/**
 * Write a description of class SpriteSet here.
 * 
 * @author (your name) 
 * @version (a version number or a date)
 */
public class Activity  
{
    private String path;
    private int imageCounter;
    
    private List<GreenfootImage> facingRight;
    private List<GreenfootImage> facingLeft;
    
    /**
     * Constructor for objects of class SpriteSet
     */
    public Activity(String path)
    {
        imageCounter = 0;
        
        // Variablen vorbereiten
        facingRight = new ArrayList<GreenfootImage>();
        facingLeft = new ArrayList<GreenfootImage>();
        
        // Dateien in übergebenem Verzeichnis durchgehen
        File[] files = Tools.getDirContent(path, "file");
        
        // Alle Dateien durchgehen
        for(File file: files)
        {
            // GreenfootImage aus Bilddatei erstellen und an Liste anhängen
            System.out.println("Grafik: "+file.getName()+" - "+file.getPath());
            facingRight.add(Tools.loadImage(file.getPath()));
            
            // Bild spiegeln und speichern
            GreenfootImage left = Tools.loadImage(file.getPath());
            left.mirrorHorizontally();
            facingLeft.add(left);
        }        
              
    }
        
    public GreenfootImage getImage(String orientation) 
    {
        //System.out.println(currentOrientation.equals("right"));
        if(orientation.equals("right"))
        {
            return facingRight.get(imageCounter);
        }
        else
        {
            return facingLeft.get(imageCounter);
        }
    }
    
    public void next()
    {
        imageCounter++;
        if (imageCounter >= facingRight.size())
        {
            imageCounter = 0;
        }
    }
}