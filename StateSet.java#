import greenfoot.*;
import java.util.Map;
import java.util.HashMap;
import java.io.File;

/**
 * Write a description of class AnimationSet here.
 * 
 * @author (your name) 
 * @version (a version number or a date)
 */
public class StateSet  
{
    private String path;
    
    private Map<String, ActivitySet> activities;    
    
    /**
     * Konstruktor. Sucht nach Bildern und lädt sie in Listen
     */
    public StateSet(String path)
    {
        this.path = path;       
        
        // Variablen vorbereiten
        activities = new HashMap<String, SpriteSet>();
        
        // Alle Ordner im aktuellen Verzeichnis auflisten       
        File[] directories = Tools.getDirContent(path, "dir");
        
        // Alle gefundenen Objekte durchgehen und auswerten
        for (File file: directories)
        {
            // Für jedes gefundene Verzeichnis ein SpriteSet anlegen
            System.out.println("Aktivität: "+file.getName()+" - "+file.getPath());
            activities.put(file.getName(), new SpriteSet(file.getPath()));            
        }        
    }   
        
    public GreenfootImage getImage(String currentActivity, String currentOrientation)
    {
        SpriteSet activity = activities.get(currentActivity);
        if (activity != null)
        {
            return activity.getImage(currentOrientation);
        }
        else
        {
            return null;
        }
        
    }
    
    public void next(String currentActivity)
    {
        SpriteSet activity = activities.get(currentActivity);
        if (activity != null)
        {
            activity.next();
        }
    }
}